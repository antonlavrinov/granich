{"version":3,"sources":["webpack:///./src/assets/images/seo/graphic-system-swiss-min.jpg","webpack:///./src/assets/images/seo/vk/graphic-system-swiss.jpg","webpack:///./src/pages/graphic-system-swiss.jsx","webpack:///./src/components/Mailing.jsx"],"names":["module","exports","GraphicSystemSwissPage","data","type","className","title","description","keywords","ogImage","ogImageVk","ogImageVK","url","courseName","SwissOffer","SwissExplanations","numberOfTeachers","SwissTeam","quote","text","dataHeader","SwissPortfolioHeader","masterClass","posters","SwissPortfolioPosters","id","courseStatus","formId","valueInput1","valueInput2","valueInput3","valueInput4","googleAnaliticsCategory","formPostUrl","SwissPricesRange","ShakeForm","posed","div","shake","applyAtEnd","x","applyAtStart","transition","stiffness","damping","duration","ArrowRightButton","styled","props","PrivacyPopupLink","a","MailingSection","section","MailingWrapper","MailingContainer","MailingText","MailingForm","form","MailingInput","input","errorStyle","MailingButton","button","FormPolitikaLabel","MailingWrapperInputAndButton","Mailing","useState","shakeTrigger","setShakeTrigger","formEl","useRef","useEffect","statUrl","document","getElementById","value","window","location","href","referrer","console","log","encodeURIComponent","innerHTML","arrowRight","useStaticQuery","arrowBlackRight","childImageSharp","fluid","pose","poseKey","isInitialValid","validationSchema","isValidSync","initialValues","politikaCheckbox","formParams","email","onSubmit","values","e","setSubmitting","current","submit","trackCustomEvent","category","action","label","Yup","shape","required","errors","isSubmitting","handleChange","handleSubmit","isValid","touched","method","data-open-new-window","ref","name","maxLength","placeholder","onChange","aria-label","onClick","setTimeout","disabled"],"mappings":"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","file":"component---src-pages-graphic-system-swiss-jsx-6bd457888397ec293dcb.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/graphic-system-swiss-min-23f4c49fc6047ed52cd2172eded1eb97.jpg\";","module.exports = __webpack_public_path__ + \"static/graphic-system-swiss-5ca7c3b7df87b5a9a99ac8f817315aa1.jpg\";","import React from \"react\"\nimport Layout from \"../components/Layout\"\nimport SEO from \"../components/seo\"\nimport CourseOffer from \"../components/course-page/CourseOffer\"\nimport Header from \"../components/global/header\"\nimport CourseExplanations from \"../components/course-page/CourseExplanations\"\nimport CoursePortfolio from \"../components/course-page/CoursePortfolio\"\n// import CourseReviews from \"../components/course-page/CourseReviews\"\nimport CoursePriceRange from \"../components/course-page/CoursePriceRange\"\nimport { graphql } from \"gatsby\"\nimport EducationQuestions from \"../components/EducationQuestions\"\nimport CourseAuthors from \"../components/course-page/CourseAuthors\"\nimport MasterClassExample from \"../components/course-page/MasterClassExample\"\nimport Mailing from \"../components/Mailing\"\nimport ogImage from \"../assets/images/seo/graphic-system-swiss-min.jpg\"\nimport ogImageVK from \"../assets/images/seo/vk/graphic-system-swiss.jpg\"\n\nexport const contentfulQuery = graphql`\n  query graphicSystemSwissQuery {\n    SwissOffer: contentfulGranichCourse(\n      courseTitle: { eq: \"Графсистема Swiss\" }\n    ) {\n      courseTags\n      courseMainTitle {\n        json\n      }\n      courseDescr\n      courseStatus\n      courseType\n      courseMainImage {\n        fluid(maxWidth: 850, quality: 90) {\n          ...GatsbyContentfulFluid_withWebp\n        }\n      }\n    }\n    SwissExplanations: allContentfulGranichCourseExplanations(\n      filter: { explanationsAttachmentTo: { eq: \"Графсистема Swiss\" } }\n      sort: { fields: [explanationsOrderNumber], order: ASC }\n    ) {\n      edges {\n        node {\n          id\n          explanationsImage {\n            fluid(maxWidth: 450) {\n              ...GatsbyContentfulFluid_withWebp\n            }\n          }\n          explanationsTitle\n          explanationsText {\n            json\n          }\n        }\n      }\n    }\n    SwissTeam: allContentfulGranichMainTeachers(\n      filter: {\n        teacherName: {\n          in: [\"Вадим Гранич\", \"Елизавета Черникова\", \"Андрей Павлушин\"]\n        }\n      }\n      sort: { fields: [teacherOrderNumber], order: ASC }\n    ) {\n      edges {\n        node {\n          id\n          teacherDescr {\n            json\n          }\n          teacherEmail\n          teacherImage {\n            fluid(maxWidth: 250) {\n              ...GatsbyContentfulFluid_withWebp\n            }\n          }\n          teacherName\n          teacherSocialInstagram\n          teacherSocialPinterest\n          teacherSocialTelegram\n          teacherSocialVK\n          teacherSocialsOrder\n        }\n      }\n    }\n    SwissPortfolioHeader: contentfulGranichCoursePortfolioHeader(\n      portfolioHeaderAttachmentTo: { eq: \"Графсистема Swiss\" }\n    ) {\n      portfolioHeaderTitle\n      childContentfulGranichCoursePortfolioHeaderPortfolioHeaderSummaryRichTextNode {\n        json\n      }\n      portfolioHeaderInfo {\n        json\n      }\n    }\n    SwissPortfolioPosters: allContentfulGranichCoursePortfolio(\n      filter: {\n        portfolioAttachmentTo: { eq: \"Графсистема Swiss\" }\n        portfolioType: { eq: \"Одностраничный\" }\n      }\n      sort: { fields: [portfolioOrderNumber], order: ASC }\n    ) {\n      edges {\n        node {\n          id\n          portfolioMedia {\n            fluid(maxWidth: 800) {\n              ...GatsbyContentfulFluid_withWebp\n            }\n          }\n        }\n      }\n    }\n    SwissReviewsHeader: contentfulGranichCourseReviewsHeader(\n      reviewsHeaderAttachmentTo: { eq: \"Графсистема Swiss\" }\n    ) {\n      reviewsHeaderTitle\n      reviewsHeaderLinkTelegram\n      reviewsHeaderLinkVk\n    }\n    SwissReviews: allContentfulGranichCourseReviews(\n      filter: { reviewsAttachmentTo: { eq: \"Графсистема Swiss\" } }\n      sort: { fields: [reviewsOrderNumber], order: ASC }\n    ) {\n      edges {\n        node {\n          id\n          reviewsImage {\n            fluid(maxWidth: 600) {\n              ...GatsbyContentfulFluid_withWebp\n            }\n          }\n          reviewsLink\n        }\n      }\n    }\n    SwissPricesRange: allContentfulGranichCoursePricesRange(\n      filter: { pricesAttachmentTo: { eq: \"Графсистема Swiss\" } }\n      sort: { fields: [pricesOrderNumber], order: ASC }\n    ) {\n      edges {\n        node {\n          pricesTitle\n          pricesText {\n            json\n          }\n          pricesSubtext\n          pricesPrice\n          id\n        }\n      }\n    }\n  }\n`\n\nconst GraphicSystemSwissPage = ({ data }) => (\n  <Layout>\n    <Header type={\"dark\"} />\n    <div className=\"section-top-block\"></div>\n    <SEO\n      title=\"Графсистема Swiss\"\n      description=\"Мастер-класс по графической системе Swiss. В него входят: PDF-презентация, Закрытый телеграм-чат, Видеолекция, Видеоинструкция, Домашнее задание, индивидуальный разбор ДЗ, Вводный урок по InDesign, Макет в портфолио, Бонусный урок.\"\n      keywords={[\n        \"swiss\",\n        \"графсистема\",\n        \"гранич\",\n        \"granich\",\n        \"швейцария\",\n        \"типографика\",\n        \"сетка\",\n        \"воздух\",\n      ]}\n      ogImage={ogImage}\n      ogImageVk={ogImageVK}\n      url=\"https://granich.design/graphic-system-swiss\"\n    />\n    <CourseOffer courseName={\"Swiss\"} data={data.SwissOffer} />\n    <CourseExplanations data={data.SwissExplanations} />\n    <CourseAuthors\n      numberOfTeachers={\"3\"}\n      data={data.SwissTeam}\n      quote=\"Основное исследование — Андрей Павлушин. Дополнения, запись видеолекции и видеоинструкции — Елизавета Черникова. Дизайн-система, рекомендации и забота — Вадим Гранич.\"\n      text={\n        <>\n          Швейцарский стиль — графсистема вне времени. Она не привязана к\n          трендам, не имеет национальности. Её принципы можно использовать в\n          любой отрасли дизайна, для любой аудитории. Поэтому она так важна.\n          Многим Swiss кажется слишком сложной. Мы постарались разложить всё по\n          полочкам и сделать её понятнее.\n        </>\n      }\n    />\n    <MasterClassExample />\n    <CoursePortfolio\n      dataHeader={data.SwissPortfolioHeader}\n      masterClass\n      posters={data.SwissPortfolioPosters}\n    />\n    {/* <CourseReviews dataHeader={data.VHSreviewsHeader} data={data.VHSreviews} masterClass/> */}\n    <div id=\"prices-range-section\"></div>\n    {data.SwissOffer.courseStatus ? (\n      <CoursePriceRange\n        formId={`ltForm3153227`}\n        valueInput1={`1372632`}\n        valueInput2={`1372669`}\n        valueInput3={`1372671`}\n        valueInput4={`1372674`}\n        googleAnaliticsCategory={`Отправка формы Графсистема Swiss`}\n        formPostUrl={`https://school.granich.design/pl/lite/block-public/process-html?id=863550509`}\n        data={data.SwissPricesRange}\n      />\n    ) : (\n      <Mailing />\n    )}\n    <EducationQuestions />\n  </Layout>\n)\n\nexport default GraphicSystemSwissPage\n","import React, { useRef, useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\n// import BlackArrowRight from '../assets/svgs/arrow-black-right.svg';\nimport { Formik } from \"formik\"\nimport * as Yup from \"yup\"\nimport { Container } from \"./style\"\nimport posed from \"react-pose\"\n// import Link from 'gatsby-link';\nimport { graphql, useStaticQuery } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport { trackCustomEvent } from \"gatsby-plugin-google-analytics\"\n\nconst ShakeForm = posed.div({\n  shake: {\n    applyAtEnd: { x: 0 },\n    applyAtStart: { x: -10 },\n    x: 0,\n    transition: {\n      type: \"spring\",\n      stiffness: 1000,\n      damping: 10,\n      duration: 4,\n    },\n  },\n})\n\nconst ArrowRightButton = styled(props => <Img {...props} />)`\n  width: 3.6vw;\n  transition: all 0.2s ease;\n  :hover {\n    transform: scale(1.1);\n  }\n\n  @media only screen and (max-width: 575px) {\n    width: 11.5vw;\n  }\n`\n\n// const PrivacyLink = styled(props => <Link {...props}/>)`\n\n// `\n\nconst PrivacyPopupLink = styled.a``\n\nconst MailingSection = styled.section``\n\nconst MailingWrapper = styled.div`\n  width: 100%;\n  background: var(--granich-red);\n  border-radius: 0.6vw;\n  position: relative;\n  @media only screen and (max-width: 575px) {\n    border-radius: 2.5vw;\n  }\n`\n\nconst MailingContainer = styled.div`\n  padding: 2.1vw 3vw;\n  padding-right: 3vw;\n  display: flex;\n  justify-content: space-between;\n  @media only screen and (max-width: 575px) {\n    flex-direction: column;\n    padding: 7.2vw 5.5vw 8vw;\n  }\n`\n\nconst MailingText = styled.div`\n  font-size: 1.7vw;\n  font-weight: 400;\n  width: 36vw;\n  line-height: 1.3;\n  color: white;\n  span {\n    font-style: italic;\n    color: inherit;\n    font-size: 2.3vw;\n    line-height: 0.5;\n    font-weight: 500;\n    font-family: EB Garamond;\n  }\n  @media only screen and (max-width: 575px) {\n    font-size: 4vw;\n    width: 70vw;\n    line-height: 1.3;\n    margin-bottom: 4vw;\n    span {\n      letter-spacing: -0.01vw;\n      font-size: 5.4vw;\n    }\n  }\n`\n\nconst MailingForm = styled.form`\n  display: flex;\n  align-items: flex-start;\n  position: relative;\n  flex-direction: column;\n`\n\nconst MailingInput = styled.input`\n  height: 3.2vw;\n  border: none;\n  border-radius: 0.6vw;\n  box-shadow: 0 0 0.5vw rgba(0, 0, 0, 0.5) inset;\n  padding: 1vw 1.1vw;\n  width: 26vw;\n  font-size: 1.55vw;\n  margin-right: 1.1vw;\n  ${props =>\n    props.errorStyle &&\n    `\n        ::placeholder {\n            color: var(--granich-red);\n        }\n    `}\n  ::placeholder {\n    font-size: 1.55vw;\n  }\n\n  @media only screen and (max-width: 575px) {\n    border-radius: 2.5vw;\n    width: 64vw;\n    height: 10.5vw;\n    padding: 0 4vw;\n    font-size: 4.1vw;\n    margin-right: 2.5vw;\n    box-shadow: 0 0 1.5vw rgba(0, 0, 0, 0.5) inset;\n    ::placeholder {\n      font-size: 4.1vw;\n    }\n  }\n`\n\nconst MailingButton = styled.button`\n  height: 3.4vw;\n  border: none;\n\n  background: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  :hover {\n    cursor: pointer;\n  }\n\n  @media only screen and (max-width: 575px) {\n    min-width: 14vw;\n    min-height: 14vw;\n\n    svg {\n      margin-left: -1vw;\n    }\n  }\n`\n\n// const FormCheckbox = styled.input`\n//     margin-left: 0.3vw;\n\n// `\n\n// const FormCheckboxLabel = styled.label`\n//     font-size: 1.2vw;\n//     user-select: none;\n//     letter-spacing: -0.02vw;\n//     margin-top: 1vw;\n//     position: relative;\n//     color: white;\n\n//     a {\n//         color: white;\n//         font-weight: 500;\n//         display: inline-block;\n//         margin: 0 0.4vw;\n//         position: relative;\n//         font-weight: 400;\n\n//         :after {\n//             content: '';\n//             height: 1px;\n//             width: 100%;\n//             background: rgba(256,256,256,0.5);\n//             position: absolute;\n//             bottom: -0.2vw;\n//             left: 0;\n\n//         }\n\n//         :hover {\n//             :after {\n//                 background: white;\n//             }\n//         }\n//     }\n//     @media only screen and (max-width: 575px) {\n//         font-size: 3.6vw;\n//         margin-top: 2vw;\n//         white-space: nowrap;\n//         a {\n//             margin: 0;\n//             margin-left: 1.5vw;\n//         }\n//     }\n\n// `\n\n// const FormCheckboxLabelText = styled.span`\n//     color: white;\n//     position: relative;\n//     ${props => props.errorMessage && `\n//         :after {\n//             content: '${props.errorMessage}';\n//             position: absolute;\n//             top: 2.5vw;\n//             left: -33%;\n//             min-width: 50%;\n//             width: 50%;\n//             color: var(--granich-grey);\n//             color: white;\n//             background: var(--granich-black);\n//             border-radius: 0.2vw;\n//             padding: 1vw;\n//             z-index: 5;\n//             cursor: default;\n//             font-size: 1vw;\n//             line-height: 1.45;\n//             white-space: normal;\n\n//         }\n//         :before {\n//             content: '';\n//             position: absolute;\n//             z-index: 5;\n//             top: 2.1vw;\n//             left: -7%;\n//             width: 0;\n//             height: 0;\n//             //bottom\n//             border-right: 0.55vw solid transparent;\n//             border-left: 0.55vw solid transparent;\n//             border-bottom: 0.55vw solid var(--granich-black);\n//         }\n//         @media only screen and (max-width: 575px) {\n//             :after {\n//                 top: 6vw;\n//                 left: -12%;\n//                 min-width: 50%;\n//                 width: 50%;\n//                 border-radius: 0.2vw;\n//                 padding: 3vw;\n//                 font-size: 3.7vw;\n\n//             }\n//             :before {\n//                 top: 4.5vw;\n//                 left: -9.5%;\n\n//                 border-right: 3vw solid transparent;\n//                 border-left: 3vw solid transparent;\n//                 border-bottom: 3vw solid var(--granich-black);\n//             }\n//         }\n\n//     `}\n// `\n\nconst FormPolitikaLabel = styled.div`\n  color: white;\n  margin-top: 0.5vw;\n  font-size: 1.1vw;\n  width: 27vw;\n  a {\n    color: white;\n    font-weight: 500;\n    display: inline-block;\n    position: relative;\n    font-weight: 400;\n\n    :after {\n      content: \"\";\n      height: 1px;\n      width: 100%;\n      background: rgba(256, 256, 256, 0.5);\n      position: absolute;\n      bottom: -0.2vw;\n      left: 0;\n    }\n    :hover {\n      :after {\n        background: white;\n      }\n    }\n  }\n  @media only screen and (max-width: 575px) {\n    font-size: 3.6vw;\n    margin-top: 2vw;\n    line-height: 1.3;\n    width: 100%;\n    a {\n      margin: 0;\n    }\n  }\n`\n\nconst MailingWrapperInputAndButton = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst Mailing = () => {\n  const [shakeTrigger, setShakeTrigger] = useState(3)\n\n  const formEl = useRef(null)\n\n  useEffect(() => {\n    //Кодировка формы для Геткурса\n    const firstGetcourseFormScript = () => {\n      //этот код тупо добавляет url нашего сайта в value прозрачных инпутов\n      let loc = document.getElementById(\"2588475f67e38dc85f8\")\n      loc.value = window.location.href\n      let ref = document.getElementById(\"2588475f67e38dc85f8ref\")\n      ref.value = document.referrer\n      console.log(\"LOCATION\", window.location.href)\n      console.log(\"VALUE\", document.referrer)\n    }\n    //Кодировка формы для Геткурса\n    const secondGetcourseFormScript = () => {\n      let statUrl =\n        \"https://school.granich.design/stat/counter?ref=\" +\n        encodeURIComponent(document.referrer) +\n        \"&loc=\" +\n        encodeURIComponent(document.location.href)\n      document.getElementById(\"gccounterImgContainer\").innerHTML =\n        \"<img width=1 height=1 style='display:none' id='gccounterImg' src='\" +\n        statUrl +\n        \"'/>\"\n      console.log(\"ELEM\", document.getElementById(\"gccounterImgContainer\"))\n    }\n\n    firstGetcourseFormScript()\n    secondGetcourseFormScript()\n  }, [])\n\n  //initial Validation\n  function isInitialValid(props) {\n    if (!props.validationSchema) return true\n    return props.validationSchema.isValidSync(props.initialValues)\n  }\n\n  const data = useStaticQuery(graphql`\n    query mailingIcon {\n      arrowBlackRight: file(relativePath: { eq: \"arrow-black-right-01.png\" }) {\n        childImageSharp {\n          fluid(maxWidth: 120) {\n            ...GatsbyImageSharpFluid\n          }\n        }\n      }\n    }\n  `)\n\n  const arrowRight = data.arrowBlackRight.childImageSharp.fluid\n\n  return (\n    <MailingSection>\n      <Container>\n        <ShakeForm pose={[\"shake\"]} poseKey={shakeTrigger}>\n          <MailingWrapper>\n            <MailingContainer>\n              <MailingText>\n                <span>Оставьте почту,</span> чтобы узнать о наборах на курсы,\n                мастер-классы и новом бесплатном контенте. Без спама.\n              </MailingText>\n\n              <Formik\n                isInitialValid={isInitialValid}\n                initialValues={{\n                  politikaCheckbox: true,\n                  formParams: {\n                    email: \"\",\n                  },\n                }}\n                onSubmit={(values, { setSubmitting }, e) => {\n                  formEl.current.submit()\n                  trackCustomEvent({\n                    category: \"Подписка на рассылку\",\n                    action: \"click\",\n                    label: \"Рассылка\",\n                  })\n                }}\n                validationSchema={Yup.object().shape({\n                  // politikaCheckbox: Yup.bool().oneOf([true], 'Нам нужно ваше согласие на обработку персональных данных'),\n                  formParams: Yup.object().shape({\n                    email: Yup.string()\n                      .email(\"Это не электропочта  >__<\")\n                      .required(\"Сперва впишите почту :)\"),\n                  }),\n                })}\n              >\n                {props => {\n                  const {\n                    values,\n                    errors,\n                    isSubmitting,\n                    handleChange,\n                    handleSubmit,\n                    isValid,\n                    touched,\n                    // setFieldTouched,\n                    // setFieldValue\n                  } = props\n                  return (\n                    <MailingForm\n                      className=\"main-page-form\"\n                      action=\"https://school.granich.design/pl/lite/block-public/process-html?id=855578433\"\n                      method=\"post\"\n                      data-open-new-window=\"0\"\n                      ref={formEl}\n                      id=\"ltForm4927084\"\n                      onSubmit={e => {\n                        if (isValid) {\n                          handleSubmit(e)\n                        } else {\n                          handleSubmit(e)\n                          setShakeTrigger(shakeTrigger + 1)\n                          if (errors.formParams && errors.formParams.email) {\n                            values.formParams.email = \"\"\n                          }\n                        }\n                      }}\n                    >\n                      <input type=\"hidden\" name=\"formParams[setted_offer_id]\" />\n                      <MailingWrapperInputAndButton>\n                        <MailingInput\n                          type=\"text\"\n                          maxLength=\"60\"\n                          placeholder={\n                            errors.formParams &&\n                            errors.formParams.email &&\n                            touched.formParams &&\n                            touched.formParams.email\n                              ? errors.formParams.email\n                              : \"Электропочта\"\n                          }\n                          name=\"formParams[email]\"\n                          value={values.formParams.email}\n                          onChange={handleChange}\n                          errorStyle={\n                            errors.formParams &&\n                            errors.formParams.email &&\n                            touched.formParams &&\n                            touched.formParams.email\n                              ? 1\n                              : 0\n                          }\n                        />\n                        <MailingButton\n                          aria-label=\"Submit\"\n                          type=\"submit\"\n                          id=\"button7568304\"\n                          onClick={() => {\n                            if (window[\"btnprs5f67e38dd2018\"]) {\n                              return false\n                            }\n                            window[\"btnprs5f67e38dd2018\"] = true\n                            setTimeout(function () {\n                              window[\"btnprs5f67e38dd2018\"] = false\n                            }, 6000)\n                            return true\n                          }}\n                          disabled={isSubmitting}\n                        >\n                          <ArrowRightButton fluid={arrowRight} />\n                        </MailingButton>\n                      </MailingWrapperInputAndButton>\n                      <FormPolitikaLabel>\n                        Нажимая на кнопку в этой форме, я принимаю условия{\" \"}\n                        <PrivacyPopupLink href=\"/privacy\">\n                          {\" \"}\n                          политики конфиденциальности\n                        </PrivacyPopupLink>\n                      </FormPolitikaLabel>\n                      {/* <FormCheckbox \n                                                            type=\"checkbox\"\n                                                            name=\"politikaCheckbox\"\n                                                            value={values.politikaCheckbox}\n                                                            checked={values.politikaCheckbox}\n                                                            onChange={v => {\n                                                                setFieldTouched(\"politikaCheckbox\", true)\n                                                                setFieldValue(\"politikaCheckbox\", v.target.checked)\n                                                            }}\n                                                            id=\"politikaCheckbox\"\n                                                            className={`course-form-checkbox_black`}\n                                                            />  */}\n                      {/* \n                                                            <FormCheckboxLabel className={`course-form-label ${errors.politikaCheckbox && touched.politikaCheckbox && 'course-form-label_error'}`} htmlFor=\"politikaCheckbox\">\n                                                                <FormCheckboxLabelText errorMessage={errors.politikaCheckbox && touched.politikaCheckbox ? errors.politikaCheckbox : 0}>\n                                                                    Принять<PrivacyPopupLink href=\"/privacy\"> политику конфиденциальности</PrivacyPopupLink>\n                                                                </FormCheckboxLabelText>\n                                                            </FormCheckboxLabel>  */}\n                      <input\n                        type=\"hidden\"\n                        id=\"2588475f67e38dc85f8\"\n                        name=\"__gc__internal__form__helper\"\n                        className=\"__gc__internal__form__helper\"\n                        value=\"\"\n                      />\n                      <input\n                        type=\"hidden\"\n                        id=\"2588475f67e38dc85f8ref\"\n                        name=\"__gc__internal__form__helper_ref\"\n                        className=\"__gc__internal__form__helper_ref\"\n                        value=\"\"\n                      />\n                      <input\n                        type=\"hidden\"\n                        name=\"requestTime\"\n                        value=\"1600643981\"\n                      />\n                      <input\n                        type=\"hidden\"\n                        name=\"requestSimpleSign\"\n                        value=\"b034133ec813412fc5a260bab9fab587\"\n                      />\n                      <input type=\"hidden\" name=\"isHtmlWidget\" value=\"1\" />\n\n                      <span id=\"gccounterImgContainer\"></span>\n                    </MailingForm>\n                  )\n                }}\n              </Formik>\n            </MailingContainer>\n          </MailingWrapper>\n        </ShakeForm>\n      </Container>\n    </MailingSection>\n  )\n}\n\nexport default Mailing\n"],"sourceRoot":""}